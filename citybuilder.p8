pico-8 cartridge // http://www.pico-8.com
version 27
__lua__
--city builder
--by isaac dunn

function _init()
 game_state=0--main menu
 init_main()
end

function _update()
 if game_state==0 then
  update_main()
 else
  
 end
end

function _draw()
 cls()
 map()
 if game_state==0 then
  draw_main()
 else
  draw_map()
 end
end
-->8
--main menu

function init_main()
 main_cursorx=1
end

function update_main()
 if btnp(⬆️) and main_cursorx==2 then
  main_cursorx-=1
 elseif btnp(⬇️) and main_cursorx==1 then
  main_cursorx+=1
 elseif btnp(🅾️) then
  if main_cursorx==1 then
   new_game()
  else
   --load game
  end
 end
end

function draw_main()
 spr(16,3,main_cursorx*32+12)
 print("new game",48,46,7)
 print("load game",47,78,7)
end
-->8
--game data

function new_game()
 game_state=1
 land_gen()
end

function load_game()
end

function save_game()
end

function land_gen()
 noise_array={}
	local x
	local y
	for x=1,16 do
	 noise_array[x]={}
		for y=1,16 do
		 noise_array[x][y]=
		 static_noise_gen(15)
		end
	end
end

function draw_map()
 local x
	local y
 for x=1,16 do
  for y=1,16 do
   if noise_array[x][y]<9 then
		  mset(x,y,1)
		 elseif noise_array[x][y]<13 then
		 	mset(x,y,2)
		 elseif noise_array[x][y]<14 then
		 	mset(x,y,3)
		 elseif noise_array[x][y]<15 then
		 	mset(x,y,4)
		 end
		end
	end
end

function static_noise_gen(maxn)
 noise=rnd(maxn)
 return noise
end
__gfx__
000000003333b3333333333333336333333333330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000003b333333333bb3333336663333cccc330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700b333383333bbbb33334445333cccdcc30000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700033338b833bbbbbb3344445533ddcccc30000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700033333833bbbbbbbb344444533cccccc30000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070033a333b33bbbbbb3444444553ccddcc30000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000003aba333b333bb3334444445533cccc330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000033a33b333333333333444433333333330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
65566600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
65555666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
65555666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
65566600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
77777777777777777777777700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
76666666666666666666666700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
76555555555555555555556700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
76555555555555555555556700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
76555555555555555555556700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
76555555555555555555556700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
76555555555555555555556700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
76555555555555555555556700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
76555555555555555555556700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
76555555555555555555556700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
76555555555555555555556700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
76555555555555555555556700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
76555555555555555555556700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
76555555555555555555556700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
76666666666666666666666700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
77777777777777777777777700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000efefefefefefefefefefef000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000002021212121212121212200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000003031313131313131313200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000002021212121212121212200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000003031313131313131313200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
